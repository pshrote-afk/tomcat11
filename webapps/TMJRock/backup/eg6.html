<!DOCTYPE HTML>
<html lang = 'en'>
<meta charset='utf-8'>
<head>
<title>AJAX Examples</title>
<script>
//this will be part of TMJRock JavaScript library in the end
var panels=[];
var expandedIndex=-1;

function accordianHeadingClicked(x)
{
if(expandedIndex!=-1) panels[expandedIndex].style.display = "none";
panels[x+1].style.display = panels[x+1].oldDisplay;
expandedIndex = x+1;
}

function doit()
{
let accord = document.getElementById("mymy");
let children = accord.childNodes;
let x;
for(x=0;x<children.length;x++)
{
//alert(children[x].nodeName);
if(children[x].nodeName=="H3")
{
panels[panels.length] = children[x];
}
if(children[x].nodeName=="DIV")
{
panels[panels.length] = children[x];
}
}
if(panels.length%2 != 0) throw "Headings and division malformed to create accordian";
for(x=0;x<panels.length;x+=2)
{
if(panels[x].nodeName!="H3") throw "Headings and division malformed to create accordian";
if(panels[x+1].nodeName!="DIV") throw "Headings and division malformed to create accordian";
}

function createClickHandler(i)
{
return function(){
accordianHeadingClicked(i);
};
}

for(x=0;x<panels.length;x+=2)
{
panels[x].onclick = createClickHandler(x);
panels[x+1].oldDisplay = panels[x+1].style.display;
panels[x+1].style.display = "none"
}
}
window.addEventListener('load',doit);

//TMJRock ends
//TMJRock user part starts

</script>
</head>
<body>

<div id="mymy">
<h3>Heading 1</h3>
<div>
Content 1 Content 1 Content 1 Content 1 Content 1<br>
Content 1 Content 1 Content 1 Content 1 Content 1<br>
Content 1 Content 1 Content 1 Content 1 Content 1<br>
Content 1 Content 1 Content 1 Content 1 Content 1<br>
Content 1 Content 1 Content 1 Content 1 Content 1<br>
Content 1 Content 1 Content 1 Content 1 Content 1<br>
</div>

<h3>Heading 2</h3>
<div>
Content 2 Content 2 Content 2 Content 2 Content 2<br>
Content 2 Content 2 Content 2 Content 2 Content 2<br>
Content 2 Content 2 Content 2 Content 2 Content 2<br>
Content 2 Content 2 Content 2 Content 2 Content 2<br>
Content 2 Content 2 Content 2 Content 2 Content 2<br>
Content 2 Content 2 Content 2 Content 2 Content 2<br>
Content 2 Content 2 Content 2 Content 2 Content 2<br>
</div>

<h3>Heading 3</h3>
<div>
Content 3 Content 3 Content 3 Content 3 Content 3<br>
Content 3 Content 3 Content 3 Content 3 Content 3<br>
Content 3 Content 3 Content 3 Content 3 Content 3<br>
</div>

</div> <!--end of 'mymy'-->


</body>
</html>