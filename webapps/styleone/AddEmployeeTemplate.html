<!DOCTYPE HTML>
<html lang = 'en'>
<head>
<title>HR Application</title>
<script>
function validateForm(frm)
{
var isValid=true;
firstInvalidField=null;

var name = frm.name.value.trim();
var nameErrorSection = document.getElementById('nameErrorSection');
nameErrorSection.innerHTML='';
if(name.length==0)
{
nameErrorSection.innerHTML='Name required';
if(firstInvalidField==null) firstInvalidField=frm.name;
isValid=false;
}
var designationCode = frm.designationCode.value;
var designationCodeErrorSection = document.getElementById('designationCodeErrorSection');
designationCodeErrorSection.innerHTML='';
if(designationCode==(-1))
{
designationCodeErrorSection.innerHTML='Designation required';
if(firstInvalidField==null) firstInvalidField=frm.designationCode;
isValid=false;
}
var dateOfBirth = frm.dateOfBirth.value;
var dateOfBirthErrorSection = document.getElementById('dateOfBirthErrorSection');
dateOfBirthErrorSection.innerHTML='';
if(dateOfBirth.length==0)
{
dateOfBirthErrorSection.innerHTML='Date of birth required';
if(firstInvalidField==null) firstInvalidField=frm.dateOfBirth;
isValid=false;
}

var genderErrorSection = document.getElementById('genderErrorSection');
genderErrorSection.innerHTML='';
if(frm.gender[0].checked==false && frm.gender[1].checked==false)
{
genderErrorSection.innerHTML='Gender required';
//we don't put focus on radio buttons - we don't want to select any
isValid=false;
}

var k=0;
var allowedChars='0123456789.';
var basicSalary = frm.basicSalary.value;
var basicSalaryErrorSection = document.getElementById('basicSalaryErrorSection');
basicSalaryErrorSection.innerHTML='';
if(basicSalary.length==0)
{
basicSalaryErrorSection.innerHTML='Basic salary required';
if(firstInvalidField==null) firstInvalidField=frm.basicSalary;
isValid=false; 
}
while(k < basicSalary.length)
{
if(allowedChars.indexOf(basicSalary.charAt(k))==-1)	// if -1 index is returned, it means char not found
{
basicSalaryErrorSection.innerHTML='Invalid basic salary';
if(firstInvalidField==null) firstInvalidField=frm.basicSalary;
isValid=false; 
break;
}
k++;
}
if((basicSalary.indexOf('.')==-1)==false) //if block true, means dot exists
{
var dotIndex = basicSalary.indexOf('.');
//eg: 1234.567
var afterDot = (basicSalary.length) - (dotIndex + 1);
if(afterDot > 2)
{
basicSalaryErrorSection.innerHTML='Only 2 digits after decimal allowed';
if(firstInvalidField==null) firstInvalidField=frm.basicSalary;
isValid=false; 
}
}

var panNumber = frm.panNumber.value.trim();
var panNumberErrorSection = document.getElementById('panNumberErrorSection');
panNumberErrorSection.innerHTML='';
if(panNumber.length==0)
{
panNumberErrorSection.innerHTML='PAN number required';
if(firstInvalidField==null) firstInvalidField=frm.panNumber;
isValid=false;
}
var aadharCardNumber = frm.aadharCardNumber.value.trim();
var aadharCardNumberErrorSection = document.getElementById('aadharCardNumberErrorSection');
aadharCardNumberErrorSection.innerHTML='';
if(aadharCardNumber.length==0)
{
aadharCardNumberErrorSection.innerHTML='Aadhar card number required';
if(firstInvalidField==null) firstInvalidField=frm.aadharCardNumber;
isValid=false;
}


if(firstInvalidField!=null) firstInvalidField.focus();
return isValid;
}
function cancelEmployeeAddition()
{
document.getElementById('cancelEmployeeAdditionForm').submit();
}
</script>
</head>
<body>
<!-- Main container starts here -->
<div style='width:90hw;height:auto;border:1px solid black'>
<!-- Header container starts here -->
<div style='margin:5px;width:90hw;height:auto;border:1px solid black'>
<img src='/styleone/images/logo.png' style='float:left;width:35px;height:auto;padding:5px'><div style='margin-top:9px;margin-bottom:9px;font-size:20pt'>Thinking Machines</div>
</div><!-- Header container ends here -->
<!-- content-section starts here -->
<div style='width:90hw;height:70vh;margin:5px;border:1px solid white'>
<!-- left panel starts here -->
<div style='height:65vh;margin:5px;float:left;padding:5px;border:1px solid black'>
<a href='/styleone/designationsView'>Designations</a><br>
<a href='/styleone/employeesView'>Employees</a>
</div><!-- left panel ends here -->
<!-- right panel starts here -->
<div style='height:65vh;margin-left:105px;margin-right:5px;margin-bottom:5px;margin-top:5px;padding:5px;border:1px solid black'>
<b>Employee (Add Module)</b><br>
<form method='post' action='/styleone/addEmployee' onsubmit='return validateForm(this)'>
<table>
<tr>
<td>Name</td>
<td>
<input type='text' id='name' name='name' maxlength='35' size='36'>
<span id='nameErrorSection' style='color:red'></span>
</td>
</tr>
<tr>
<td>Designation</td>
<td>
<select id='designationCode' name='designationCode'>
<option value='-1'>&lt;Select Designation&gt;</option>
<option value='1'>Clerk</option>
<option value='2'>Liftman</option>
<option value='3'>Wizard of Oz</option>
</select>
<span id='designationCodeErrorSection' style='color:red'></span>
</td>
</tr>
<tr>
<td>Date of birth</td>
<td>
<input type='date' id='dateOfBirth' name='dateOfBirth' maxlength='35' size='36'>
<span id='dateOfBirthErrorSection' style='color:red'></span>
</td>
</tr>
<tr>
<td>Gender</td>
<td><input type='radio' id='male' name='gender' value='M'>Male
&nbsp;&nbsp;&nbsp;&nbsp;
<input type='radio' id='female' name='gender' value='F'>Female
<span id='genderErrorSection' style='color:red'></span>
</td>
</tr>
<tr>
<td>Indian?</td>
<td>
<input type='checkbox' id='isIndian' name='isIndian'>
<span id='isIndianErrorSection' style='color:red'></span>
</td>
</tr>
<tr>
<td>Basic salary</td>
<td>
<input type='text' id='basicSalary' name='basicSalary' maxlength='12' size='13' style='text-align:right'>
<span id='basicSalaryErrorSection' style='color:red'></span>
</td>
</tr>
<tr>
<td>PAN number</td>
<td>
<input type='text' id='panNumber' name='panNumber' maxlength='15' size='16'>
<span id='panNumberErrorSection' style='color:red'></span>
</td>
</tr>
<tr>
<td>Aadhar Card Number</td>
<td>
<input type='text' id='aadharCardNumber' name='aadharCardNumber' maxlength='15' size='16'>
<span id='aadharCardNumberErrorSection' style='color:red'></span>
</td>
</tr>
</table>

<br><br>
<table>
<tr>
<td>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</td>
<td>
<button type='submit'>Add</button>
</form>
</td>
<td>
<button type='button' onclick='cancelEmployeeAddition()'>Cancel</button>
</td>
</tr>
</table>
</div><!-- right panel ends here -->
</div><!-- content-section ends here -->
<!-- footer starts here -->
<div style='width:90hw;height:auto;margin:5px;text-align:center;border:1px solid footer'>
&copy; Thinking Machines 2025
</div> <!-- footer ends here -->
</div><!-- Main container ends here -->

<form action='/styleone/employeesView' id='cancelEmployeeAdditionForm'>
</form>
</body>
</html>